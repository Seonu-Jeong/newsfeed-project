# 2조 뉴스피드 프로젝트
## 1. 멤버 
|이름|Github 프로필|담당 기능(도메인)|역할|
|---|:---|:---|---|
|정선우|[Seonu-Jeong](https://github.com/Seonu-Jeong)|friends|팀장|
|김태훈|[view0576](https://github.com/view0576)|boards|팀원|
|류병길|[fbqudrlf09](https://github.com/fbqudrlf09)|comments|팀원|
|정가현|[kahyun0608](https://github.com/kahyun0608)|users|팀원|
## 2. Wire Frame
[와이어프레임](https://miro.com/app/board/uXjVLDMMOYI=/?share_link_id=812200675768)
## 3. API 명세서
[API 명세서](https://gossamer-giraffe-f6d.notion.site/API-1473bd8753e480fda20ef0c58ef6c182?pvs=4)
## 4. ERD
![뉴스피드 프로젝트](https://github.com/user-attachments/assets/79850153-c28d-46c4-9c09-0c36c69c1262)
## 5. 수행 역할
### 정선우
- 기능
  - 친구 관련 로직 구현 : 친구 목록 조회, 친구 요청 목록 조회, 친구 요청 전송, 친구 요청 수락/거절, 연관 친구 조회, 친구 게시글 전체 조회 
- GitHub rule 협의 및 정리
- 발표자료 취합 및 정리
### 김태훈
- 기능
  - 게시글 관련 로직 구현 : 게시글 작성, 게시글 단건 조회, 게시글 전체 조회, 게시글 수정, 게시글 삭제
- 시연 영상 제작
### 류병길
- 기능
  - 댓글 관련 로직 구현 : 댓글 작성, 댓글 조회, 댓글 수정, 댓글 삭제, 댓글 좋아요 기능
- 발표
### 정가현
- 기능
  - 회원 관련 로직 구현 : 회원가입, 유저 조회, 유저 수정, 회원탈퇴, 인증/인가(로그인, 로그아웃, 로그인필터)
  - 게시글 좋아요 기능
- postman api 실행 예시 작성  
- Readme 및 회고 작성
## 6. 기능
[Postman 실행 예시](https://documenter.getpostman.com/view/39354432/2sAYBSktFN)
### 회원
- 회원 정보를 Create, Read, Update, Delete 할 수 있습니다.
- 회원가입을 위해 입력받는 정보는 형식을 제한하고 있습니다. <br>
  (이메일 : 로컬+@+도메인 / 비밀번호 :  대소문자 포함 영문 + 숫자 + 특수문자를 최소 1글자씩 포함하는 최소 8글자 형식)
- 이미 존재하는 사용자 혹은 탈퇴한 사용자와 같은 이메일로 회원가입할 수 없습니다.
- 비밀번호는 Bcrypt로 암호화하여 저장합니다.
- 비밀번호 수정 시, 본인 확인을 위해 현재 비밀번호를 입력하여 올바른 경우에만 수정할 수 있습니다.
- 현재 비밀번호와 동일한 비밀번호로는 변경할 수 없습니다.
- 회원의 정보를 수정하고 삭제할 때에는 로그인세션에 저장된 사용자의 정보를 가져와 로그인한 본인의 정보에만 접근할 수 있도록 하였습니다.
- 영속성 전이를 통해 회원탈퇴 시 회원이 입력한 게시글, 댓글, 친구관계가 삭제됩니다.

### 사용자 인증
- 이메일과 비밀번호를 입력하여 로그인을 할 수 있습니다.
- 로그인을 통해 만들어진 사용자의 세션 ID는 쿠키에 저장되어 반환됩니다.
- 필터를 통해 회원가입과 로그인, 댓글 조회를 제외한 모든 기능은 로그인세션이 있어야지만 실행이 가능합니다.
- 이미 로그인이 된 경우에는 회원가입과 새로 로그인이 불가능합니다.

### 게시글
- 게시글을 Create, Read, Update, Delete 할 수 있습니다.
- 게시글은 페이징을 통해 한 페이지에 설정한만큼의 게시글을 조회할 수 있습니다.
- 게시글은 기본적으로 수정일자를 기준으로 내림차순하여 조회됩니다.
- 게시글의 id로 게시글을 단건조회할 수 있습니다.
- 게시된 전체 게시물을 조회할 수 있습니다.
- 로그인 세션에 저장된 사용자의 정보를 가져와 로그인한 본인과 친구들의 게시글만 모아 조회할 수 있습니다.
- 영속성 전이를 통해 게시글 삭제 시 댓글이 삭제됩니다.
  
### 댓글
- 게시글에 댓글을 Create, Read, Update, Delete 할 수 있습니다.
- 댓글 수정, 삭제는 댓글의 작성자 혹은 게시글의 작성자만 가능합니다.
- url에서 comment의 경로가 실제와 일치하는지 검증합니다.
  
### 친구
- 친구 관계를 Create, Read, Update, Delete 할 수 있습니다.
- 특정 사용자에게 친구를 요청하고 받은 요청을 수락하고 거절할 수 있습니다.
- 자신(로그인 세션에 저장된 사용자)에게 들어온 친구 요청의 목록을 조회할 수 있습니다.
- 친구 관계가 아닌 상대방과 연관된 친구 정보를 보여주는 기능이 있습니다.

### 좋아요
- 게시글과 댓글에 좋아요를 추가하고 삭제할 수 있습니다.
- 같은 게시물과 댓글에는 사용자당 한 번만 좋아요가 가능합니다.
  
## 7. Tech Stacks
- JAVA
- Spring Boot
- IDE(IntelliJ)
- MySQL
## 8. Trouble Shooting
[정가현/탈퇴 이용자의 이메일과 중복 비교](https://zesty-beetle-b1a.notion.site/1-14716457c27780c58199f9b7527c85e8) <br>

[정선우/친구 게시글 조회](https://zesty-beetle-b1a.notion.site/2-14716457c277807f8c79eed7a9cb00b7)
 
## 9. 개선사항
- **코드 통일성 및 리펙토링** : 일정이 촉박하여 서로의 코드 통일성을 맞추거나 코드 간결성을 높일 기회가 적었습니다. 비슷한 기능이 많은만큼 같은 문법으로 코드를 짜거나 인터페이스 적용을 통해 코드 재사용성을 높이고 유지보수성을 높일 수 있습니다.
- **예외처리** : 현재 친구기능에만 @ExceptionHandler를 통해 예외처리를 하고 있습니다. 다른 기능들도 ExceptionHandler를 사용해 예외처리를 하여 코드 재사용성과 유지보수성을 높일 수 있습니다. 또한, 비슷한 상황의 예외가 많이 발생하고 있기때문에 @RestControllerAdvise를 사용하여 범용적으로 유연하게 예외처리를 할 수 있습니다.

## 10. 소감
- **정선우** :  이번 프로젝트를 통해 설계 단계에서 허술함은 프로젝트가 진행될 수록 연쇄적인 문제를 낳는 것을 느꼈으며 원활한 프로젝트를 위해서는 설계 및 초기 단계에 꼼꼼하게 정의해야 함을 알게됐습니다.
- **류병길** : 이번 프로젝트를 통해 간단한 설계에도 많은 로직이 포함될 수 있음을 깨달았고, 설계와 준비의 중요성을 느꼈습니다.
- **정가현** : 그동안 Spring에서 배운 것들을 다시 한 번 정리하고 또 새로운 기능구현에 도전할 수 있는 의미있는 시간이었습니다.
              협업을 하며 충돌을 줄이기 위해 초반에 여러 노력을 하며 저희 조만의 github 규칙을 세운 것은 좋았지만
              실제로 기능 전체를 구현하고 마지막 한 번에 합치신 분들이 많아 개인적으로 아쉬움이 남습니다.
- **김태훈** :  숙련 스프링 주차 이해도가 낮아 공부와 프로젝트를 같이 진행해 기여를 많이 못한 거 같아 아쉽습니다. 협업을 하면서 회의와 코딩하는 과정을 보며 많이 배웠습니다
